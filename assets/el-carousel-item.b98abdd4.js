var Ne=Object.defineProperty,Te=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var ne=(f,c,r)=>c in f?Ne(f,c,{enumerable:!0,configurable:!0,writable:!0,value:r}):f[c]=r,Q=(f,c)=>{for(var r in c||(c={}))Be.call(c,r)&&ne(f,r,c[r]);if(oe)for(var r of oe(c))Ae.call(c,r)&&ne(f,r,c[r]);return f},X=(f,c)=>Te(f,$e(c));import{b as ce,v as Le,a as ve,u as fe,s as d,x as M,e as t,y as Y,z as Pe,A as me,B as ze,C as He,D as Oe,E as Re,o as g,c as E,h as F,m as le,p as K,G as W,H as j,n as C,I as O,q as U,J as re,T as ue,g as R,K as Ve,r as pe,i as de,F as De,l as Fe,t as Ke,_ as he,L as Ue,M as We,N as je,O as qe,P as Ge,Q as Je,w as Qe,R as Xe}from"./index.6d67af12.js";import{t as ie,a as Ye}from"./el-image-viewer.80c2fddf.js";const ye=Symbol("carouselContextKey"),Ze=ce({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:{type:String,default:""},loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator(f){return["horizontal","vertical"].includes(f)}},pauseOnHover:{type:Boolean,default:!0}}),xe={change:(f,c)=>[f,c].every(Le)},et=["onMouseenter","onMouseleave"],tt=["onMouseenter","onClick"],at={key:0},st={name:"ElCarousel"},ot=ve(X(Q({},st),{props:Ze,emits:xe,setup(f,{expose:c,emit:r}){const a=f,u=fe("carousel"),b=300,n=d(-1),h=d(null),_=d(!1),y=d(),i=d([]),k=M(()=>a.arrow!=="never"&&!t($)),N=M(()=>i.value.some(e=>e.props.label.toString().length>0)),T=M(()=>{const e=[u.b(),u.m(a.direction)];return t(L)&&e.push(u.m("card")),e}),V=M(()=>{const e=[u.e("indicators"),u.em("indicators",a.direction)];return N.value&&e.push(u.em("indicators","labels")),(a.indicatorPosition==="outside"||t(L))&&e.push(u.em("indicators","outside")),e}),L=M(()=>a.type==="card"),$=M(()=>a.direction==="vertical"),D=ie(e=>{o(e)},b,{trailing:!0}),q=ie(e=>{Ce(e)},b);function P(){h.value&&(clearInterval(h.value),h.value=null)}function z(){a.interval<=0||!a.autoplay||h.value||(h.value=setInterval(()=>l(),a.interval))}const l=()=>{n.value<i.value.length-1?n.value=n.value+1:a.loop&&(n.value=0)};function o(e){if(Ue(e)){const I=i.value.filter(A=>A.props.name===e);I.length>0&&(e=i.value.indexOf(I[0]))}if(e=Number(e),Number.isNaN(e)||e!==Math.floor(e))return;const s=i.value.length,m=n.value;e<0?n.value=a.loop?s-1:0:e>=s?n.value=a.loop?0:s-1:n.value=e,m===n.value&&v(m)}function v(e){i.value.forEach((s,m)=>{s.translateItem(m,n.value,e)})}function p(e){i.value.push(e)}function S(e){const s=i.value.findIndex(m=>m.uid===e);s!==-1&&(i.value.splice(s,1),n.value===s&&ee())}function B(e,s){var m,I,A,te;const H=t(i),ae=H.length;if(ae===0||!e.states.inStage)return!1;const we=s+1,be=s-1,se=ae-1,ke=H[se].states.active,Se=H[0].states.active,Me=(I=(m=H[we])==null?void 0:m.states)==null?void 0:I.active,Ee=(te=(A=H[be])==null?void 0:A.states)==null?void 0:te.active;return s===se&&Se||Me?"left":s===0&&ke||Ee?"right":!1}function w(){_.value=!0,a.pauseOnHover&&P()}function G(){_.value=!1,z()}function Z(e){t($)||i.value.forEach((s,m)=>{e===B(s,m)&&(s.states.hover=!0)})}function x(){t($)||i.value.forEach(e=>{e.states.hover=!1})}function ge(e){n.value=e}function Ce(e){a.trigger==="hover"&&e!==n.value&&(n.value=e)}function _e(){o(n.value-1)}function ee(){o(n.value+1)}Y(()=>n.value,(e,s)=>{v(s),s>-1&&r("change",e,s)}),Y(()=>a.autoplay,e=>{e?z():P()}),Y(()=>a.loop,()=>{o(n.value)});const J=Pe();return me(async()=>{await ze(),J.value=He(y.value,()=>{v()}),a.initialIndex<i.value.length&&a.initialIndex>=0&&(n.value=a.initialIndex),z()}),Oe(()=>{P(),y.value&&J.value&&J.value.stop()}),Re(ye,{root:y,isCardType:L,isVertical:$,items:i,loop:a.loop,addItem:p,removeItem:S,setActiveItem:o}),c({setActiveItem:o,prev:_e,next:ee}),(e,s)=>(g(),E("div",{ref_key:"root",ref:y,class:C(t(T)),onMouseenter:O(w,["stop"]),onMouseleave:O(G,["stop"])},[F("div",{class:C(t(u).e("container")),style:de({height:e.height})},[t(k)?(g(),le(ue,{key:0,name:"carousel-arrow-left"},{default:K(()=>[W(F("button",{type:"button",class:C([t(u).e("arrow"),t(u).em("arrow","left")]),onMouseenter:s[0]||(s[0]=m=>Z("left")),onMouseleave:x,onClick:s[1]||(s[1]=O(m=>t(D)(n.value-1),["stop"]))},[U(t(re),null,{default:K(()=>[U(t(Ye))]),_:1})],34),[[j,(e.arrow==="always"||_.value)&&(a.loop||n.value>0)]])]),_:1})):R("v-if",!0),t(k)?(g(),le(ue,{key:1,name:"carousel-arrow-right"},{default:K(()=>[W(F("button",{type:"button",class:C([t(u).e("arrow"),t(u).em("arrow","right")]),onMouseenter:s[2]||(s[2]=m=>Z("right")),onMouseleave:x,onClick:s[3]||(s[3]=O(m=>t(D)(n.value+1),["stop"]))},[U(t(re),null,{default:K(()=>[U(t(Ve))]),_:1})],34),[[j,(e.arrow==="always"||_.value)&&(a.loop||n.value<i.value.length-1)]])]),_:1})):R("v-if",!0),pe(e.$slots,"default")],6),e.indicatorPosition!=="none"?(g(),E("ul",{key:0,class:C(t(V))},[(g(!0),E(De,null,Fe(i.value,(m,I)=>(g(),E("li",{key:I,class:C([t(u).e("indicator"),t(u).em("indicator",e.direction),t(u).is("active",I===n.value)]),onMouseenter:A=>t(q)(I),onClick:O(A=>ge(I),["stop"])},[F("button",{class:C(t(u).e("button"))},[t(N)?(g(),E("span",at,Ke(m.props.label),1)):R("v-if",!0)],2)],42,tt))),128))],2)):R("v-if",!0)],42,et))}}));var nt=he(ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const lt=ce({name:{type:String,default:""},label:{type:[String,Number],default:""}}),rt={name:"ElCarouselItem"},ut=ve(X(Q({},rt),{props:lt,setup(f){const c=f,r=fe("carousel"),a=We(ye),u=Ge(),b=.83,n=d(!1),h=d(0),_=d(1),y=d(!1),i=d(!1),k=d(!1),N=d(!1),{isCardType:T,isVertical:V}=a,L=M(()=>{const o=`${`translate${t(V)?"Y":"X"}`}(${t(h)}px)`,v=`scale(${t(_)})`;return{transform:[o,v].join(" ")}});function $(l,o,v){const p=v-1,S=o-1,B=o+1,w=v/2;return o===0&&l===p?-1:o===p&&l===0?v:l<S&&o-l>=w?v+1:l>B&&l-o>=w?-2:l}function D(l,o){var v;const p=((v=a.root.value)==null?void 0:v.offsetWidth)||0;return k.value?p*((2-b)*(l-o)+1)/4:l<o?-(1+b)*p/4:(3+b)*p/4}function q(l,o,v){const p=a.root.value;return p?((v?p.offsetHeight:p.offsetWidth)||0)*(l-o):0}const P=(l,o,v)=>{var p;const S=t(T),B=(p=a.items.value.length)!=null?p:Number.NaN,w=l===o;!S&&!Je(v)&&(N.value=w||l===v),!w&&B>2&&a.loop&&(l=$(l,o,B));const G=t(V);y.value=w,S?(k.value=Math.round(Math.abs(l-o))<=1,h.value=D(l,o),_.value=t(y)?1:b):h.value=q(l,o,G),i.value=!0};function z(){if(a&&t(T)){const l=a.items.value.findIndex(({uid:o})=>o===u.uid);a.setActiveItem(l)}}return me(()=>{a.addItem({props:c,states:je({hover:n,translate:h,scale:_,active:y,ready:i,inStage:k,animating:N}),uid:u.uid,translateItem:P})}),qe(()=>{a.removeItem(u.uid)}),(l,o)=>W((g(),E("div",{class:C([t(r).e("item"),t(r).is("active",y.value),t(r).is("in-stage",k.value),t(r).is("hover",n.value),t(r).is("animating",N.value),{[t(r).em("item","card")]:t(T)}]),style:de(t(L)),onClick:z},[t(T)?W((g(),E("div",{key:0,class:C(t(r).e("mask"))},null,2)),[[j,!y.value]]):R("v-if",!0),pe(l.$slots,"default")],6)),[[j,i.value]])}}));var Ie=he(ut,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const ft=Qe(nt,{CarouselItem:Ie}),mt=Xe(Ie);export{mt as E,ft as a};

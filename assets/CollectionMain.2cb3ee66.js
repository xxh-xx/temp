import{d as L,A as m,G as N,be as U,c,a as v,k as F,b as r,w as u,p as A,e as Q,o as l,F as w,M as y,Q as I,j as S,_ as R}from"./index.4d7b7aca.js";import{e as W,f as q}from"./el-col.63ec2fb5.js";import{E as H}from"./el-divider.199a6afe.js";import{E as J,a as K,g as M,f as V}from"./el-checkbox.01e2c718.js";import{P as T}from"./ProductList.408417eb.js";import{f as b}from"./forEach.28a59381.js";import"./_arrayEach.fdfc4e31.js";const B=i=>(A("data-v-a061590d"),i=i(),Q(),i),X={class:"collectionMain"},Y={class:"header"},Z=B(()=>v("h2",null,"Collections",-1)),$=B(()=>v("use",{"xlink:href":"#icon-filter"},null,-1)),ee=[$],oe=L({__name:"CollectionMain",props:{id:null},setup(i){const O=i,j=8,d=m([]),p=N({}),x=m(!1),f=m(!1),h=m([]),C=m([]),D=a=>{h.value=a;const e=[];b(h.value,t=>{e.push(...t.options)});const o=M(e,"title");b(o,t=>{const{title:_}=t[0],k=[];b(t,({values:g})=>{k.push(...g)}),p[_]=Object.keys(M(k,"value"))})};(()=>{window.innerWidth<=768&&(x.value=!0)})();const G=()=>{f.value=!f.value},E=(a,e)=>V(a,o=>V(o.options,t=>V(t.values,_=>e===_.value).length!==0).length!==0),P=a=>{let e=[];for(let o=0;o<a.length;o+=1)o===0?e=E(h.value,a[o]):e=E(e,a[o]);C.value=[],b(e,o=>{C.value.push(o)})};return(a,e)=>{const o=J,t=K,_=U,k=H,g=W,z=q;return l(),c("div",X,[v("div",Y,[Z,x.value?(l(),c("svg",{key:0,class:"icon","aria-hidden":"true",onClick:G},ee)):F("",!0)]),r(_,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s),direction:"rtl",size:"60%","with-header":!1,"show-close":!1},{default:u(()=>[(l(!0),c(w,null,y(Object.keys(p),s=>(l(),c("div",{key:s},[v("h4",null,I(s),1),r(t,{size:"large",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=n=>d.value=n),onChange:P},{default:u(()=>[(l(!0),c(w,null,y(p[s],n=>(l(),S(o,{style:{display:"block"},key:n,label:n},null,8,["label"]))),128))]),_:2},1032,["modelValue"])]))),128))]),_:1},8,["modelValue"]),r(k),r(z,{class:"productMain"},{default:u(()=>[r(g,{class:"left hidden-xs-only",span:3},{default:u(()=>[(l(!0),c(w,null,y(Object.keys(p),s=>(l(),c("div",{key:s},[v("h4",null,I(s),1),r(t,{size:"large",modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=n=>d.value=n),onChange:P},{default:u(()=>[(l(!0),c(w,null,y(p[s],n=>(l(),S(o,{style:{display:"block"},key:n,label:n},null,8,["label"]))),128))]),_:2},1032,["modelValue"])]))),128))]),_:1}),r(g,{class:"right",sm:21},{default:u(()=>[r(T,{onGetProducts:D,limit:j,collectionId:[O.id],newProduct:d.value.length===0?h.value:C.value},null,8,["collectionId","newProduct"])]),_:1})]),_:1})])}}});const ie=R(oe,[["__scopeId","data-v-a061590d"]]);export{ie as default};
